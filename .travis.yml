language: node_js
node_js:
  - "node"
jobs:
  include:
    - stage: build
      script:
        - npm install gulp -g
        - gulp build
    - stage: release
      script:
        - npm install gulp -g
        - if [ "$TRAVIS_BRANCH" == "master" ]; then gulp release; bash ./release.sh; fi;
    - stage: publish
      script:
        - chmod +x ./publish.sh
        - if [ "$TRAVIS_TAG" ]; then bash ./publish.sh; fi;
